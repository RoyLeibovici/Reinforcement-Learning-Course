#! pip install gymnasium
import gymnasium as gym
import numpy as np
import matplotlib.pyplot as plt

class CPAgent:
    def __init__(self):
        self.weights = np.random.uniform(low=-1, high=1, size=(4,))

    def get_action(self, observation):
        return 1 if np.dot(observation, self.weights) >= 0 else 0

    def randomize_weights(self):
        self.weights = np.random.uniform(low=-1, high=1, size=(4,))

# Function to run an episode
def run_episode(env, agent):
    observation, info = env.reset(seed=42)
    score = 0
    for _ in range(200):
        action = agent.get_action(observation)
        observation, reward, terminated, truncated, info = env.step(action)
        score += reward
        if terminated or truncated:
            break
    return score


# Execute the training process
env = gym.make('CartPole-v1')
agent = CPAgent()
score = run_episode(env, agent)

print(f" score: {score}")

env.close()
